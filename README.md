# Meteo request

–ó–∞–¥–∞—á–∞: –ø–æ–ª—É—á–∏—Ç—å –º–µ—Ç–µ–æ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞. 
–ï—Å–ª–∏ –≥–æ—Ä–æ–¥ –Ω–µ —É–∫–∞–∑–∞–Ω, –∏–¥—ë—Ç –∑–∞–ø—Ä–æ—Å –ø–æ –∞–¥—Ä–µ—Å—É —Ç–µ–∫—É—â–µ–≥–æ ip.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã

–í–≤–æ–¥–∏–º —Ñ–ª–∞–≥–∏ (–æ–¥–∏–Ω –∏–ª–∏ –¥–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ):

```text
go run . --city="London" --format=1
```

–≥–¥–µ –≤ –∑–Ω–∞—á–µ–Ω–∏–µ city –ø–µ—Ä–µ–¥–∞—ë–º –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞, 
–∞ –≤ format - –æ—Ç 1 –¥–æ 4 –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ - —ç—Ç–æ –ø–æ–ª–Ω–æ—Ç–∞ –≤—ã–≤–æ–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

–ï—Å–ª–∏ –Ω–µ –≤–≤–µ–¥—ë–Ω–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –µ–≥–æ –ø–æ ip. 

–ï—Å–ª–∏ –Ω–µ –≤–≤–µ–¥—ë–Ω —Ñ–æ—Ä–º–∞—Ç, –≤–æ–∑—å–º—ë—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ä–∞–≤–Ω–æ–µ 1.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

$ go run . --city="London" --format=2
–ü–æ–≥–æ–¥–∞ –≤ –≥–æ—Ä–æ–¥–µ {London}: ‚òÄÔ∏è   üå°Ô∏è+14¬∞C üå¨Ô∏è‚Üí11km/h

$ go run . --format=4
–ü–æ–≥–æ–¥–∞ –≤ –≥–æ—Ä–æ–¥–µ {Moscow}: Moscow: ‚òÄÔ∏è   üå°Ô∏è+17¬∞C üå¨Ô∏è‚Üê11km/h

---

–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –º–æ–º–µ–Ω—Ç: –∑–∞–ø—Ä–æ—Å –ø–æ –≥–æ—Ä–æ–¥—É Moscow –¥–∞—Å—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç. 
–í —Ç–æ –≤—Ä–µ–º—è, –∫–∞–∫ –∑–∞–ø—Ä–æ—Å –Ω–∞ Moskva - –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π. 
–≠—Ç–æ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã:

–ü–æ–ª—É—á–∏—Ç—å –º–µ—Ç–µ–æ –¥–∞–Ω–Ω—ã–µ –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –≥–æ—Ä–æ–¥—É: [wttr.in](https://github.com/chubin/wttr.in)

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–∞: 
[countriesnow.space/api/v0.1/countries/population/cities](https://documenter.getpostman.com/view/1134062/T1LJjU52)

–ü–æ–ª—É—á–∏—Ç—å –≥–æ—Ä–æ–¥ –ø–æ —Ç–µ–∫—É—â–µ–º—É ip: 
[ipapi.co/json](https://ipapi.co/api/#location-of-clients-ip)


## –ü–ª–∞–Ω

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º—É, —É–∫–∞–∑—ã–≤–∞—è –≥–æ—Ä–æ–¥, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –º–µ—Ç–µ–æ –¥–∞–Ω–Ω—ã–µ:

```text
go run . --city="Moskva"
```

–ú–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –≥–æ—Ä–æ–¥. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª—ë–Ω –ø–æ –∞–¥—Ä–µ—Å—É ip, 
—Å –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å. –¢.–µ.

```text
go run .
```

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤—ë–ª –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞, –ø—Ä–æ–≤–µ—Ä—è–µ–º –µ–≥–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ (—Ä–µ—Å—É—Ä—Å `countriesnow.space`). 
–î–æ–±–∏–≤–∞–µ–º—Å—è –≤–µ—Ä–Ω–æ–≥–æ –≤–≤–æ–¥–∞. 

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ–æ–±—â–µ –Ω–µ –≤–≤–æ–¥–∏–ª –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞, 
–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –µ–≥–æ –≥–æ—Ä–æ–¥ –µ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è (—Ä–µ—Å—É—Ä—Å `ipapi.co`). 

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –∏–º–µ–µ–º –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞, –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã (—Ä–µ—Å—É—Ä—Å `wttr.in`)

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

–ó–∞–ø—Ä–æ—Å –Ω–∞ `countriesnow.space` —Å—É–¥—è –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ post —Ñ–æ—Ä–º–∞—Ç–µ. 
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –≥–æ—Ä–æ–¥–µ. 
–û–¥–Ω–∏–º –∏–∑ –ø–æ–ª–µ–π —è–≤–ª—è–µ—Ç—Å—è error. 
–ï—Å–ª–∏ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ false, –∑–Ω–∞—á–∏—Ç –≥–æ—Ä–æ–¥ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. 
–ü–æ —Å—É—Ç–∏, –Ω–∞–º –ø–æ –∑–∞–¥–∞—á–µ –Ω—É–∂–Ω–∞ –ª–∏—à—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–∫—Ç–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–∞.  
–ü–æ—ç—Ç–æ–º—É, –∫–æ–≥–¥–∞ –±—É–¥–µ–º —Ä–∞–∑–±–∏—Ä–∞—Ç—å –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞, 
—Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∏–∑–≤–ª–µ–∫–∞—Ç—å –ª–∏—à—å –ø–æ–ª–µ error.

–ò–∑ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –º–æ–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å –ø–µ—Ä–µ–¥–∞—á—É –≤ –ø–æ—Å—Ç-–∑–∞–ø—Ä–æ—Å —Ç—Ä–µ—Ç—å–µ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞. 
–≠—Ç–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å io.Reader, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∞–π—Ç—ã. 
–ü–æ—ç—Ç–æ–º—É, —Å–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞—ë–º –º–∞–ø—É –∏ –ø–µ—Ä–µ–¥–∞—ë–º –µ—ë –≤ json.Marshal, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—è –µ—ë –≤ –±–ª–æ–∫ –±–∞–π—Ç. 
–ó–∞—Ç–µ–º, –ø–µ—Ä–µ–¥–∞—ë–º —Å–æ–∑–¥–∞–Ω–Ω—ã–π –±–ª–æ–∫ –±–∞–π—Ç –≤ bytes.NewBuffer, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–≤–º–µ—Å—Ç–∏–º —Å io.Reader:

```golang
blockBytes, _ := json.Marshal(map[string]string{"city": inCity});

resp, _ := http.Post(
  "https://countriesnow.space/api/v0.1/countries/population/cities",
  "application/json",
  bytes.NewBuffer(blockBytes),
)
```

---

–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ `https://ipapi.co/{format}` –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ json, 
–∞ –∏–∑ –Ω–∏—Ö –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ª–∏—à—å –ø–æ–ª–µ city. 
–ó–∞–ø—Ä–æ—Å Get, –≤ –æ–±—â–∏—Ö —á–µ—Ä—Ç–∞—Ö –ø–æ–≤—Ç–æ—Ä—è–µ—Ç Post –∑–∞–ø—Ä–æ—Å. 
–õ–∏—à—å –Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –Ω–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö 

---

–ó–∞–ø—Ä–æ—Å –ø–æ –ø–æ–≥–æ–¥–µ –Ω–∞ `https://wttr.in/{city}` —Ç–æ–∂–µ –∏–º–µ–µ—Ç —Ç–∏–ø Get. 
–û—Ç–ø—Ä–∞–≤–∏–º –µ–≥–æ, —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –º–∞–ø—ã url.Values{}.